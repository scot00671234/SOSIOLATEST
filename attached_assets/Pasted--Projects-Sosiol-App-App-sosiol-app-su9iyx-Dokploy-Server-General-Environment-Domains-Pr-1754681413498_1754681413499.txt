
Projects
Sosiol
App

App
sosiol-app-su9iyx
Dokploy Server
General
Environment
Domains
Preview Deployments
Schedules
Deployments
Logs
Monitoring
Advanced
Deployments
See all the 10 last deployments for this application

If you want to re-deploy this application use this URL in the config of your git provider or docker
Webhook URL:
http://147.93.87.98:3000/api/deploy/g31eG7OZbmPPOa1uv3cDN

1. done
Finalize production deployment by fixing build and startup issues Move database migration to startup phase and disable Caddy for a pure Node.js deployment on Dokploy VPS. Replit-Commit-Author: Agent Replit-Commit-Session-Id: b8200824-c7dd-4da6-b963-372dcaa2bcc0 Replit-Commit-Checkpoint-Type: full_checkpoint Replit-Commit-Screenshot-Url: https://storage.googleapis.com/screenshot-production-us-central1/36c0149e-912f-43f5-b504-de705b030e8f/b8200824-c7dd-4da6-b963-372dcaa2bcc0/zVoQtUD
Hash: ecaec29195b2897fc1792846ebb8d12f5b5854fc

2 minutes ago
44s
2. done
Update build process to correctly handle environment path Modify nixpacks.toml to use the correct delimiter for sed command in the build phase, resolving an issue with escape characters. Replit-Commit-Author: Agent Replit-Commit-Session-Id: b8200824-c7dd-4da6-b963-372dcaa2bcc0 Replit-Commit-Checkpoint-Type: full_checkpoint Replit-Commit-Screenshot-Url: https://storage.googleapis.com/screenshot-production-us-central1/36c0149e-912f-43f5-b504-de705b030e8f/b8200824-c7dd-4da6-b963-372dcaa2bcc0/zVoQtUD
Hash: 9dc9071d1374f72b41f387712796d269724615cb

11 minutes ago
37s
3. error
Enable production deployment by fixing build and server startup issues Fixes ERR_INVALID_ARG_TYPE by replacing import.meta.dirname with a hardcoded path in dist/index.js during the build process, and configures port forwarding for the production environment. Replit-Commit-Author: Agent Replit-Commit-Session-Id: b8200824-c7dd-4da6-b963-372dcaa2bcc0 Replit-Commit-Checkpoint-Type: full_checkpoint Replit-Commit-Screenshot-Url: https://storage.googleapis.com/screenshot-production-us-central1/36c0149e-912f-43f5-b504-de705b030e8f/b8200824-c7dd-4da6-b963-372dcaa2bcc0/zVoQtUD
Hash: 4c38403432dd9036232124a6bcfa8f9a7e4690a9

12 minutes ago
1s
4. done
Improve deployment stability by disabling Caddy and fixing build errors Disables Caddy in nixpacks.toml, restores client/index.html to fix Vite build errors, and ensures Node.js-only deployment for Dokploy VPS. Replit-Commit-Author: Agent Replit-Commit-Session-Id: b8200824-c7dd-4da6-b963-372dcaa2bcc0 Replit-Commit-Checkpoint-Type: full_checkpoint Replit-Commit-Screenshot-Url: https://storage.googleapis.com/screenshot-production-us-central1/36c0149e-912f-43f5-b504-de705b030e8f/b8200824-c7dd-4da6-b963-372dcaa2bcc0/zVoQtUD
Hash: 063e2721b5ff8fba99d743af71d66398331313ca

18 minutes ago
38s
5. error
Ensure server deployment without interference from static site detection Force Nixpacks to use the Node.js provider exclusively by disabling Caddy, removing static content detection files, and adding a dummy server.js file. Replit-Commit-Author: Agent Replit-Commit-Session-Id: b8200824-c7dd-4da6-b963-372dcaa2bcc0 Replit-Commit-Checkpoint-Type: full_checkpoint Replit-Commit-Screenshot-Url: https://storage.googleapis.com/screenshot-production-us-central1/36c0149e-912f-43f5-b504-de705b030e8f/b8200824-c7dd-4da6-b963-372dcaa2bcc0/zVoQtUD
Hash: a2fae68be238bb66d96bc191497213ba002a02cc

23 minutes ago
1m 50s
6. error
Configure platform for production-ready Nixpacks deployment Refactor deployment configuration to use Nixpacks for Node.js production builds, including database migration in the build phase and resolving path issues. Replit-Commit-Author: Agent Replit-Commit-Session-Id: b8200824-c7dd-4da6-b963-372dcaa2bcc0 Replit-Commit-Checkpoint-Type: full_checkpoint Replit-Commit-Screenshot-Url: https://storage.googleapis.com/screenshot-production-us-central1/36c0149e-912f-43f5-b504-de705b030e8f/b8200824-c7dd-4da6-b963-372dcaa2bcc0/zVoQtUD
Hash: f2d7baa7103258106d968c3d2f54f8f52bdbeaf3

27 minutes ago
2m 12s
7. done
Force deployment to exclusively use Docker to prevent build system interference Update configuration files and scripts to enforce Dockerfile usage, disabling all auto-detection mechanisms including Nixpacks, and ensuring a pure Docker deployment. Replit-Commit-Author: Agent Replit-Commit-Session-Id: b8200824-c7dd-4da6-b963-372dcaa2bcc0 Replit-Commit-Checkpoint-Type: full_checkpoint Replit-Commit-Screenshot-Url: https://storage.googleapis.com/screenshot-production-us-central1/36c0149e-912f-43f5-b504-de705b030e8f/b8200824-c7dd-4da6-b963-372dcaa2bcc0/zVoQtUD
Hash: f7618fdb4710231456bfc7ebe0a3c49bc65b8e24

38 minutes ago
32s
8. error
Ensure database tables exist before application starts on deployment Add a migration script to create necessary database tables, ensuring the application can access community, post, and ad data without errors upon deployment. Replit-Commit-Author: Agent Replit-Commit-Session-Id: b8200824-c7dd-4da6-b963-372dcaa2bcc0 Replit-Commit-Checkpoint-Type: full_checkpoint Replit-Commit-Screenshot-Url: https://storage.googleapis.com/screenshot-production-us-central1/36c0149e-912f-43f5-b504-de705b030e8f/b8200824-c7dd-4da6-b963-372dcaa2bcc0/zVoQtUD
Hash: 0e068d29eafbcd31e0355069a511332fc976c64f

42 minutes ago
30s
9. done
Fix deployment logs SSL connection issue on VPS Adjusted database connection configuration in `server/db.ts` to disable SSL for production environments, resolving the "server does not support SSL connections" error on Dokploy VPS and ensuring functionality across VPS, Railway, and local setups. Replit-Commit-Author: Agent Replit-Commit-Session-Id: b8200824-c7dd-4da6-b963-372dcaa2bcc0 Replit-Commit-Checkpoint-Type: full_checkpoint Replit-Commit-Screenshot-Url: https://storage.googleapis.com/screenshot-production-us-central1/36c0149e-912f-43f5-b504-de705b030e8f/b8200824-c7dd-4da6-b963-372dcaa2bcc0/zVoQtUD
Hash: 6899480d8acca7b26703c748ed65b1cc07ff8bbb

about 1 hour ago
46s
10. done
Update build process to resolve path errors Modify the build phase in nixpacks.toml to include a sed command that replaces `import.meta.dirname` with a hardcoded path in `dist/index.js`, addressing the ERR_INVALID_ARG_TYPE error. Replit-Commit-Author: Agent Replit-Commit-Session-Id: b4b3a676-75fb-4f53-8d45-32c05123de2b Replit-Commit-Checkpoint-Type: full_checkpoint Replit-Commit-Screenshot-Url: https://storage.googleapis.com/screenshot-production-us-central1/87b040ce-8108-4f4d-8f25-bd1245aafaba/b4b3a676-75fb-4f53-8d45-32c05123de2b/rqc6aRh
Hash: 7235a80139c310b5e8f14e42d2baf6e7f93e377c

about 3 hours ago
40s
11. done
Ensure application starts correctly in production environment Update nixpacks.toml to set PWD and INIT_CWD to /app, and modify the start command to include 'cd /app && npm start' for correct execution in the production environment. Replit-Commit-Author: Agent Replit-Commit-Session-Id: b4b3a676-75fb-4f53-8d45-32c05123de2b Replit-Commit-Checkpoint-Type: full_checkpoint Replit-Commit-Screenshot-Url: https://storage.googleapis.com/screenshot-production-us-central1/87b040ce-8108-4f4d-8f25-bd1245aafaba/b4b3a676-75fb-4f53-8d45-32c05123de2b/rqc6aRh
Hash: 76b81d80f27044b8b2a621e5ef7ab51ddd00448e

about 3 hours ago
54s
Application: App - Sosiol | Dokploy
184
Deployment
See all the details of this deployment | 

Initializing deployment
Clonning Repo github.com/scot00671234/SOSIOLATEST.git to /etc/dokploy/applications/sosiol-app-su9iyx/code: ✅
Cloning into '/etc/dokploy/applications/sosiol-app-su9iyx/code'...
remote: Enumerating objects: 183, done.
Cloned github.com/scot00671234/SOSIOLATEST.git: ✅
Build nixpacks: ✅
Source Type: github: ✅
╔══════════════════════════════ Nixpacks v1.39.0 ══════════════════════════════╗
║ setup      │ nodejs_18                                                       ║
║──────────────────────────────────────────────────────────────────────────────║
║ caddy      │ echo 'CADDY PHASE COMPLETELY DISABLED'                          ║
║            │ echo 'NODE.JS SERVER HANDLES ALL REQUESTS'                      ║
║            │ rm -rf /assets/Caddyfile || true                                ║
║            │ mkdir -p /app/dist/public || true                               ║
║──────────────────────────────────────────────────────────────────────────────║
║ install    │ npm ci                                                          ║
║──────────────────────────────────────────────────────────────────────────────║
║ build      │ npm run build                                                   ║
║            │ sed -i 's|import\.meta\.dirname|"/app"|g' dist/index.js || true ║
║──────────────────────────────────────────────────────────────────────────────║
║ start      │ node scripts/migrate-db.js && npm start                         ║
╚══════════════════════════════════════════════════════════════════════════════╝
#0 building with "default" instance using docker driver
#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.78kB done
#1 DONE 0.0s
#2 [internal] load metadata for ghcr.io/railwayapp/nixpacks:ubuntu-1745885067
#2 DONE 0.3s
#3 [internal] load .dockerignore
#3 transferring context: 249B done
#3 DONE 0.0s
#4 [stage-0  1/17] FROM ghcr.io/railwayapp/nixpacks:ubuntu-1745885067@sha256:d45c89d80e13d7ad0fd555b5130f22a866d9dd10e861f589932303ef2314c7de
#4 DONE 0.0s
#5 [internal] load build context
#5 transferring context: 5.21MB 0.1s done
#5 DONE 0.1s
#6 [stage-0  3/17] COPY .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix
#6 CACHED
#7 [stage-0  4/17] RUN nix-env -if .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix && nix-collect-garbage -d
#7 CACHED
#8 [stage-0  2/17] WORKDIR /app/
#8 CACHED
#9 [stage-0  5/17] COPY .nixpacks/assets /assets/
#9 CACHED
#10 [stage-0  6/17] COPY . /app/.
#10 DONE 0.1s
#11 [stage-0  7/17] RUN  echo 'CADDY PHASE COMPLETELY DISABLED'
#11 0.170 CADDY PHASE COMPLETELY DISABLED
#11 DONE 0.2s
#12 [stage-0  8/17] RUN  echo 'NODE.JS SERVER HANDLES ALL REQUESTS'
#12 0.201 NODE.JS SERVER HANDLES ALL REQUESTS
#12 DONE 0.2s
#13 [stage-0  9/17] RUN  rm -rf /assets/Caddyfile || true
#13 DONE 0.3s
#14 [stage-0 10/17] RUN  mkdir -p /app/dist/public || true
#14 DONE 0.5s
#15 [stage-0 11/17] COPY . /app/.
#15 DONE 0.2s
#16 [stage-0 12/17] RUN --mount=type=cache,id=cY7etteaxFY-/root/npm,target=/root/.npm npm ci
#16 0.528 npm warn config production Use `--omit=dev` instead.
#16 8.022 npm warn deprecated @esbuild-kit/esm-loader@2.6.5: Merged into tsx: https://tsx.is
#16 8.468 npm warn deprecated @esbuild-kit/core-utils@3.3.2: Merged into tsx: https://tsx.is
#16 20.20
#16 20.20 added 491 packages, and audited 492 packages in 20s
#16 20.20
#16 20.20 66 packages are looking for funding
#16 20.20   run `npm fund` for details
#16 20.25
#16 20.25 11 vulnerabilities (3 low, 8 moderate)
#16 20.25
#16 20.25 To address issues that do not require attention, run:
#16 20.25   npm audit fix
#16 20.25
#16 20.25 To address all issues (including breaking changes), run:
#16 20.25   npm audit fix --force
#16 20.25
#16 20.25 Run `npm audit` for details.
#16 DONE 20.6s
#17 [stage-0 13/17] COPY . /app/.
#17 DONE 0.1s
#18 [stage-0 14/17] RUN --mount=type=cache,id=cY7etteaxFY-node_modules/cache,target=/app/node_modules/.cache npm run build
#18 0.307 npm warn config production Use `--omit=dev` instead.
#18 0.342
#18 0.342 > rest-express@1.0.0 build
#18 0.342 > vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist
#18 0.342
#18 0.570 vite v5.4.19 building for production...
#18 0.626 transforming...
#18 1.451 Browserslist: browsers data (caniuse-lite) is 10 months old. Please run:
#18 1.451   npx update-browserslist-db@latest
#18 1.451   Why you should do it regularly: https://github.com/browserslist/update-db#readme
#18 13.42 ✓ 1845 modules transformed.
#18 13.72 rendering chunks...
#18 13.94 computing gzip size...
#18 13.97 ../dist/public/index.html                   0.50 kB │ gzip:   0.33 kB
#18 13.97 ../dist/public/assets/index-C-LBe330.css   74.40 kB │ gzip:  12.54 kB
#18 13.97 ../dist/public/assets/index-CtFyKYG2.js     2.47 kB │ gzip:   1.18 kB
#18 13.97 ../dist/public/assets/index-SEd2oJtE.js   518.63 kB │ gzip: 156.93 kB
#18 13.97 
#18 13.97 (!) Some chunks are larger than 500 kB after minification. Consider:
#18 13.97 - Using dynamic import() to code-split the application
#18 13.97 - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#18 13.97 - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#18 13.97 ✓ built in 13.38s
#18 14.04
#18 14.04   dist/index.js  26.4kb
#18 14.04
#18 14.04 ⚡ Done in 11ms
#18 DONE 14.1s
#19 [stage-0 15/17] RUN --mount=type=cache,id=cY7etteaxFY-node_modules/cache,target=/app/node_modules/.cache sed -i 's|import\.meta\.dirname|"/app"|g' dist/index.js || true
#19 DONE 0.3s
#20 [stage-0 16/17] RUN printf '\nPATH=/app/node_modules/.bin:$PATH' >> /root/.profile
#20 DONE 0.2s
#21 [stage-0 17/17] COPY . /app
#21 DONE 0.1s
#22 exporting to image
#22 exporting layers
#22 exporting layers 5.9s done
#22 writing image sha256:29f15ce3e85d7ccb65fb71e9fc2517dec350ff160999d8f73bb58b7eee1982b5
#22 writing image sha256:29f15ce3e85d7ccb65fb71e9fc2517dec350ff160999d8f73bb58b7eee1982b5 done
#22 naming to docker.io/library/sosiol-app-su9iyx done
#22 DONE 5.9s
7 warnings found (use docker --debug to expand):
 - SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "STRIPE_WEBHOOK_SECRET") (line 11)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ENV "SESSION_SECRET") (line 12)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ENV "STRIPE_SECRET_KEY") (line 12)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ENV "STRIPE_WEBHOOK_SECRET") (line 12)
- UndefinedVar: Usage of undefined variable '$NIXPACKS_PATH' (line 25)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "SESSION_SECRET") (line 11)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "STRIPE_SECRET_KEY") (line 11)
=== Successfully Built! ===
Run:
docker run -it sosiol-app-su9iyx
Docker Deployed: ✅